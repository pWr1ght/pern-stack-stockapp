{"version":3,"file":"websocket.test.js","sourceRoot":"","sources":["../../src/websocket/websocket.test.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iBAAe;AACf,uCAA0B;AAE1B,kDAA4B;AAE5B,gBAAM,CAAC,MAAM,EAAE,CAAC;AAEhB,IAAM,UAAU,GAAG,OAAO,IAAI,OAAO,CAAC,GAAG,CAAC,WAAW,IAAI,EAAE,CAAC;AAE5D,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;AAEtC,IAAM,SAAS,GAAG,UAAS,CAAC,QAAQ,CAAC;AAErC,MAAM,CAAC,UAAC,IAAI;IACR,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE;;YACtB,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAC3B,IAAI,EAAE,CAAC;;;SACV,CAAC,CAAC;AACP,CAAC,CAAC,CAAA;AAEF,QAAQ,CAAC,WAAW,EAAE;IAElB,EAAE,CAAC,mBAAmB,EAAE,UAAC,IAAI;QAEzB,IAAI,SAAS,GAAG,KAAK,CAAC;QACtB,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAO,IAAc;;gBAC1C,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;gBAC/B,IAAI,CAAC,SAAS,EAAE;oBACZ,IAAI,EAAE,CAAC;iBACV;gBACD,SAAS,GAAG,IAAI,CAAC;;;aAEpB,CAAC,CAAC;QAEH,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAEhC,CAAC,CAAC,CAAA;AACN,CAAC,CAAC,CAAA","sourcesContent":["import 'mocha';\nimport FinnhubWS from '.';\n\nimport dotenv from 'dotenv';\nimport { TickData } from '../interface';\ndotenv.config();\n\nconst finnHubKey = process && process.env.FINNHUB_KEY || \"\";\n\nconsole.log('finnHubKey', finnHubKey);\n\nconst finnhubWs = FinnhubWS.Instance;\n\nbefore((done) => {\n    finnhubWs.when(\"onReady\", async () => {\n        console.log('WS is ready');\n        done();\n    });\n})\n\ndescribe('FinnhubWS', () => {\n\n    it('should get onData', (done) => {\n\n        let completed = false;\n        finnhubWs.when(\"onData\", async (data: TickData) => {\n            console.log('WS onData', data);\n            if (!completed) {\n                done();\n            }\n            completed = true;\n\n        });\n\n        finnhubWs.addSymbol(\"AAPL\");\n\n    })\n})"]}