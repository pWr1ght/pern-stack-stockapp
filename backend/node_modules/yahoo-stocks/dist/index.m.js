var e=require("https"),t=function(t){return new Promise(function(n,r){(function(t){return new Promise(function(n,r){e.get(t,function(e){var t="";e.on("data",function(e){t+=e}),e.on("end",function(){n(t)})}).on("error",function(e){r(e)})})})(t).then(function(e){return JSON.parse(e)}).then(n).catch(r)})};module.exports={lookup:function(e){return new Promise(function(n,r){Promise.all([t("https://autoc.finance.yahoo.com/autoc?query="+e+"&region=1&lang=en"),t("https://query1.finance.yahoo.com/v10/finance/quoteSummary/"+e+"?&modules=summaryProfile,financialData")]).then(function(t){if(t[0].ResultSet.Result.length){var a=t[1].quoteSummary.result[0].financialData;n({symbol:e,name:t[0].ResultSet.Result[0].name,exchange:t[0].ResultSet.Result[0].exchDisp,currentPrice:a.currentPrice.raw,highPrice:a.targetHighPrice.raw,lowPrice:a.targetLowPrice.raw,meanPrice:a.targetMeanPrice.raw,medianPrice:a.targetMedianPrice.raw})}else r(!0)}).catch(r)})},history:function(e,n){return new Promise(function(r,a){var i=Object.assign({},{range:"1wk",interval:"1d"},n);t("https://query2.finance.yahoo.com/v7/finance/chart/"+e+"?range="+i.range+"&interval="+i.interval+"&indicators=quote&includeTimestamps=true&includePrePost=true&events=div%7Csplit%7Cearn").then(function(e){var t=e.chart.result[0].indicators.quote[0],n=e.chart.result[0].meta,a=e.chart.result[0].timestamp.map(function(e,n){return{time:e,close:t.close[n],open:t.open[n],high:t.high[n],low:t.low[n],volume:t.volume[n]}});r({previousClose:n.chartPreviousClose,records:a})}).catch(a)})}};
//# sourceMappingURL=index.m.js.map
