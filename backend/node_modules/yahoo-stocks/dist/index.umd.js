!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){var e=require("https"),n=function(n){return new Promise(function(t,r){(function(n){return new Promise(function(t,r){e.get(n,function(e){var n="";e.on("data",function(e){n+=e}),e.on("end",function(){t(n)})}).on("error",function(e){r(e)})})})(n).then(function(e){return JSON.parse(e)}).then(t).catch(r)})};module.exports={lookup:function(e){return new Promise(function(t,r){Promise.all([n("https://autoc.finance.yahoo.com/autoc?query="+e+"&region=1&lang=en"),n("https://query1.finance.yahoo.com/v10/finance/quoteSummary/"+e+"?&modules=summaryProfile,financialData")]).then(function(n){if(n[0].ResultSet.Result.length){var i=n[1].quoteSummary.result[0].financialData;t({symbol:e,name:n[0].ResultSet.Result[0].name,exchange:n[0].ResultSet.Result[0].exchDisp,currentPrice:i.currentPrice.raw,highPrice:i.targetHighPrice.raw,lowPrice:i.targetLowPrice.raw,meanPrice:i.targetMeanPrice.raw,medianPrice:i.targetMedianPrice.raw})}else r(!0)}).catch(r)})},history:function(e,t){return new Promise(function(r,i){var o=Object.assign({},{range:"1wk",interval:"1d"},t);n("https://query2.finance.yahoo.com/v7/finance/chart/"+e+"?range="+o.range+"&interval="+o.interval+"&indicators=quote&includeTimestamps=true&includePrePost=true&events=div%7Csplit%7Cearn").then(function(e){var n=e.chart.result[0].indicators.quote[0],t=e.chart.result[0].meta,i=e.chart.result[0].timestamp.map(function(e,t){return{time:e,close:n.close[t],open:n.open[t],high:n.high[t],low:n.low[t],volume:n.volume[t]}});r({previousClose:t.chartPreviousClose,records:i})}).catch(i)})}}});
//# sourceMappingURL=index.umd.js.map
